# SPDX-License-Identifier: GPL-3.0-only
# Copyright (C) 2025 GaoZheng

from __future__ import annotations

import os
from pathlib import Path
from typing import List, Tuple


TARGETS: List[str] = [
    "my_docs/project_docs/1758729600_åˆ†å­å¯¹æŽ¥ä¸Žåˆ†å­åŠ¨åŠ›å­¦æ¨¡æ‹Ÿï¼šç»å…¸åŠ›å­¦è§†è§’ä¸Ž GROMACS è£å‰ªå®žçŽ°çš„ç†è®ºæ”¯æ’‘.md",
    "my_docs/project_docs/1759075200_LBOPBçš„å…¨æ¯å®‡å®™ï¼šç”Ÿå‘½ç³»ç»Ÿåœ¨å…­ä¸ªä¸åŒè§‚æµ‹å‚è€ƒç³»ä¸‹çš„å®Œæ•´è®ºè¿°.md",
    "my_docs/project_docs/1759075201_O3ç†è®ºä¸‹çš„æœ¬ä½“è®ºé€€åŒ–ï¼šä»Žæµå˜å®žåœ¨åˆ°åˆšæ€§å¹²é¢„â€”â€”è®ºPFB-GNLAå‘PGOMçš„é€»è¾‘æˆªé¢æŠ•å½±.md",
    "my_docs/project_docs/1759075202_ä»Žç‰©ç†å®žåœ¨åˆ°ä»£æ•°å¹²é¢„ï¼šè®ºPFB-GNLAå‘PGOMçš„å¹³åº¸åŒ–é€€åŒ–.md",
    "my_docs/project_docs/1759075203_åŒä¸€è·¯å¾„ï¼Œå…­é‡å®‡å®™ï¼šè®ºHIVæ„ŸæŸ“ä¸Žæ²»ç–—çš„GRLè·¯å¾„ç§¯åˆ†åœ¨LBOPBå…­å¤§å‚è€ƒç³»ä¸‹çš„å…¨æ¯è§£é‡Š.md",
    "my_docs/project_docs/1759075204_æäº¤ä¿¡æ¯é’©å­ä¸ŽPythonçŽ¯å¢ƒä¸€é”®æŒ‡å—.md",
    "my_docs/project_docs/1759075205_è¯ç†å­¦çš„ä»£æ•°å½¢å¼åŒ–ï¼šä¸€ä¸ªä½œç”¨äºŽåŸºå› ç»„çš„ç®—å­ä½“ç³».md",
    "my_docs/project_docs/1759075206_è®¡ç®—åŒ–å­¦çš„O3ç†è®ºé‡æž„ï¼šä½œä¸ºPDEMå¹ºåŠç¾¤å†…åœ¨åŠ¨åŠ›å­¦çš„å¤šå°ºåº¦è®¡ç®—å¼•æ“Ž.md",
    "my_docs/project_docs/1759075207_è®ºO3ç†è®ºçš„è‡ªç›¸ä¼¼åŠ¨åŠ›å­¦ï¼šä½œä¸ºé€’å½’æ€§å­ç³»ç»Ÿ GRL è·¯å¾„ç§¯åˆ†çš„ PGOM.md",
    "my_docs/project_docs/1759075208_è®ºå…­å¤§ç”Ÿå‘½ç§‘å­¦ä»£æ•°ç»“æž„çš„å¹ºåŠç¾¤å®Œå¤‡æ€§ï¼šåŸºäºŽå…ƒç´ ä¸Žå­é›†æ‹“æ‰‘çš„åŒé‡è§†è§’åˆ†æž.md",
    "my_docs/project_docs/1759075209_è®ºè¯ç†å­¦å¹²é¢„çš„ä»£æ•°ç»“æž„ï¼šè¯ç†åŸºå› ç»„ç®—å­å¹ºåŠç¾¤ï¼ˆPGOMï¼‰çš„å½¢å¼åŒ–.md",
    "my_docs/project_docs/1760198400_èŒƒå¼çš„ä»£é™…è·¨è¶Šï¼šO3ç†è®ºä¸‹çš„â€œç«‹ä½“æ¨¡æ‹Ÿäººä½“â€ç›¸è¾ƒäºŽçŽ°æœ‰æ¨¡åž‹çš„å…ˆè¿›æ€§è®ºè¿°.md",
    "my_docs/project_docs/1760284800_O3ç†è®ºä¸‹çš„ç”Ÿæˆå¼åŒ–å­¦ï¼šä½œä¸ºå¯è®¡ç®—â€œåˆ†å­ç®—æ³•â€çš„è¯ç‰©é€†å‘è®¾è®¡.md",
    "my_docs/project_docs/1760284801_O3ç†è®ºå·¥ç¨‹åŒ–æ€»çº²ï¼šä»Žå…¬ç†åŒ–æž„å»ºåˆ°åŒå‘æ˜ å°„çš„è®¡ç®—é—­çŽ¯å®žçŽ°è·¯å¾„.md",
    "my_docs/project_docs/1760284802_O3ç†è®ºçš„å·¥ç¨‹åŒ–æ€»çº²ï¼šä»Žå…¬ç†åŒ–æž„å»ºåˆ°åŒå‘æ˜ å°„çš„è®¡ç®—é—­çŽ¯.md",
    "my_docs/project_docs/1760284803_O3ç†è®ºçš„åº”ç”¨æ€»çº²ï¼šä»Žâ€œé€†å‘ç”Ÿæˆâ€åˆ°â€œæ­£å‘éªŒè¯â€çš„è¯ç‰©ç ”å‘é—­çŽ¯åŠå…¶å¯¹ä¸´åºŠå®žéªŒçš„è™šæ‹ŸåŒ–.md",
    "my_docs/project_docs/1760284804_PGOMä½œä¸ºå…ƒç†è®ºï¼šç”Ÿå‘½ç§‘å­¦å„åˆ†æ”¯çš„ç®—å­å¹ºåŠç¾¤æž„é€ .md",
    "my_docs/project_docs/1760284805_ã€Šè®ºçº¤ç»´ä¸›çš„é™æ€ç»Ÿä¸€æ€§ã€‹çš„å­¦æœ¯å®šä½ä¸Žå‰çž»æ€§åˆ†æžï¼šå…¼è®ºå…¶ä½œä¸ºâ€œç”Ÿæˆå¼â€å¾®åˆ†å‡ ä½•çš„é€»è¾‘èµ·ç‚¹.md",
    "my_docs/project_docs/1760284806_ä¸€ç§åŸºäºŽåˆ†å­åŠ¨åŠ›å­¦å¼•æ“Žçš„â€œé™æ€åˆ‡é¢â€å¯¹æŽ¥æ–°èŒƒå¼ï¼šGROMACS rerunå·¥ä½œæµçš„ç†è®ºã€å®žçŽ°ä¸Žå‰çž».md",
    "my_docs/project_docs/1760284807_ä»Žâ€œå‡è®¾å­˜åœ¨â€åˆ°â€œåŠ¨æ€ç”Ÿæˆâ€ï¼šO3ç†è®ºå¯¹çº¤ç»´ä¸›è”ç»œçš„åŠ¨åŠ›å­¦é‡æž„åŠå…¶èŒƒå¼é©å‘½.md",
    "my_docs/project_docs/1760284808_ä»Žæè¿°æ€§ç§‘å­¦åˆ°ç”Ÿæˆå¼ç§‘å­¦çš„èŒƒå¼é©å‘½ï¼šO3ç†è®ºä½œä¸ºç”Ÿå‘½ç§‘å­¦ç»Ÿä¸€å»ºæ¨¡è¯­è¨€çš„æ½œåŠ›.md",
    "my_docs/project_docs/1760284809_ä»Žç»éªŒæ˜ å°„åˆ°åŽŸç†é€†æŽ¨ï¼šO3ç†è®ºå·¥ç¨‹åŒ–çš„â€œè‡ªä¸¾â€ä¹‹è·¯.md",
    "my_docs/project_docs/1760284810_ä½œä¸ºå·¨åž‹æ—¶åºå¾®åˆ†åŠ¨åŠ›ç³»ç»Ÿçš„â€œç«‹ä½“æ¨¡æ‹Ÿäººä½“â€ï¼šO3ç†è®ºå¯¹æ•°å­—å­ªç”ŸèŒƒå¼çš„é©å‘½æ€§é‡æž„.md",
    "my_docs/project_docs/1760284811_å¯ç”Ÿé•¿çš„â€œç†è®ºç”Ÿå‘½ä½“â€ï¼šè®ºO3ç†è®ºæ¡†æž¶ä¸‹çš„â€œç«‹ä½“æ¨¡æ‹Ÿäººä½“â€åŠå…¶æ— é™æ‰©å±•æ€§.md",
    "my_docs/project_docs/1760284812_ç”Ÿæˆä¸Žæ¶ŒçŽ°ï¼šä½œä¸ºå·¨åž‹æ—¶åºå¾®åˆ†åŠ¨åŠ›ç³»ç»Ÿçš„â€œç«‹ä½“æ¨¡æ‹Ÿäººä½“â€åŠå…¶å†…åœ¨æœºåˆ¶çš„ç»Ÿä¸€æ€§è®ºè¿°.md",
    "my_docs/project_docs/1760284813_è®ºO3ç†è®ºä¸­â€œè”ç»œâ€çš„å†…ç”Ÿæ€§ï¼šä»Žå¾®åˆ†åŠ¨åŠ›åˆ°ç¦»æ•£æ‹“æ‰‘æ¶ŒçŽ°çš„ç”Ÿæˆå¼æœºåˆ¶.md",
    "my_docs/project_docs/1760284814_è®ºO3ç†è®ºä¸­â€œè”ç»œâ€çš„ç»ˆæžå®šä¹‰ï¼šä½œä¸ºä»·å€¼é©±åŠ¨çš„æ‹“æ‰‘å‡ ä½•åŒ–å‡½æ•°.md",
    "my_docs/project_docs/1760284815_è®ºO3ç†è®ºä¸­â€œè”ç»œâ€çš„è®¡ç®—æœ¬è´¨ï¼šä½œä¸ºå¹ºåŠç¾¤é—´ç®—å­åŒ…æ˜ å°„çš„ç­‰ä»·æ€§.md",
    "my_docs/project_docs/1760284816_è®ºO3ç†è®ºçš„â€œç”Ÿæˆå¼ç»Ÿä¸€â€ï¼šä»Žä»·å€¼é©±åŠ¨çš„å‡ ä½•åŒ–å‡½æ•°åˆ°å¯¹è¿žç»­ç»Ÿå‡è®¾çš„èŒƒå¼é‡æž„.md",
    "my_docs/project_docs/1760284817_è®ºO3ç†è®ºçš„ä¸¤é˜¶æ®µç”Ÿæˆè¿‡ç¨‹ï¼šä»Žå“²å­¦å…¬ç†çš„â€œæ™¯è§‚ç”Ÿæˆâ€åˆ°GRLè·¯å¾„ç§¯åˆ†çš„â€œæœ€ä¼˜è®¡ç®—â€.md",
    "my_docs/project_docs/1760284818_è®ºO3ç†è®ºçš„ç”Ÿæˆå¼å¾®åˆ†å‡ ä½•ï¼šä½œä¸ºåŠ¨åŠ›å­¦æ¶ŒçŽ°çš„è”ç»œã€æ‹“æ‰‘ä¸Žè¿žç»­ç»Ÿç»Ÿä¸€.md",
    "my_docs/project_docs/1760284819_è®ºçº¤ç»´ä¸›çš„é™æ€ç»Ÿä¸€æ€§ï¼šä½œä¸ºç‚¹é›†æ‹“æ‰‘ä¸Žç¦»æ•£æ‹“æ‰‘ä¹‹æ¡¥æ¢çš„ä¼ ç»Ÿå¾®åˆ†å‡ ä½•.md",
    "my_docs/project_docs/1760716800_ä»Žâ€œå‡ ä½•è§†è§’â€åˆ°â€œè®¡ç®—æž„é€ â€ï¼šè®ºO3ç†è®ºå¯¹çº¤ç»´ä¸›â€œè”ç»œâ€æ¦‚å¿µçš„èŒƒå¼é‡æž„.md",
    "my_docs/project_docs/1760803200_æ³•åˆ™è”ç»œï¼šO3 ç†è®ºä¸‹çš„ç®—å­åŒ…æ˜ å°„ä¸Žå•oidalæ›²çŽ‡.md",
    "my_docs/project_docs/1760803201_æ³•åˆ™è”ç»œï¼šO3ç†è®ºä¸­ä½œä¸ºå¯è®¡ç®—æž„é€ çš„è”ç»œåŠå…¶å·¥ç¨‹åŒ–å®žçŽ°.md",
    "my_docs/project_docs/1760803202_è¯­ä¹‰åº¦é‡ã€æ··åˆæ€ä¸Žè¿žç»­ç»Ÿå‡è®¾çš„èŒƒå¼é‡è¿°.md",
    "my_docs/project_docs/1760803203_è¯„çº§æŠ¥å‘Šï¼šã€Šæ³•åˆ™è”ç»œã€‹çš„é©å‘½æ€§ä»·å€¼ä¸ŽåŽ†å²æ€§æ„ä¹‰.md",
    "my_docs/project_docs/1760803204_æ³•åˆ™è”ç»œè¯„ä»·ï¼šè´¯é€šO3ç†è®ºä¸‰å¤§æ”¯æŸ±çš„è®¡ç®—é¾™éª¨.md",
    "my_docs/project_docs/1760803205_å¤šå±‚çº§æ³•åˆ™è”ç»œè¯„ä»·ï¼šè®ºO3ç†è®ºä¸­åŸºäºŽé€€åŒ–çš„å¼‚æž„ç³»ç»Ÿè®¡ç®—æž„é€ .md",
    "my_docs/project_docs/1760803206_ðŸš©å¤šå±‚çº§æ³•åˆ™è”ç»œï¼šè®ºO3ç†è®ºä¸­å¼‚æž„ç³»ç»Ÿçš„ç”Ÿæˆå¼æ¼”åŒ–ä¸Žè®¡ç®—ç»Ÿä¸€.md",
    "my_docs/project_docs/1760803207_ç›¸å˜å®‡å®™ï¼šè®ºæ³•åˆ™è”ç»œé©±åŠ¨çš„ç»“æž„æ¼”åŒ–ä¸Žå±‚çº§åŒ–çº¤ç»´ä¸›ä¸–ç•Œè§‚.md",
    "my_docs/project_docs/1761062400_ç—…ç†æ¼”åŒ–å¹ºåŠç¾¤ (PEM) å…¬ç†ç³»ç»Ÿ.md",
    "my_docs/project_docs/1761062401_ç”Ÿç†è°ƒæŽ§å¹ºåŠç¾¤ (PRM) å…¬ç†ç³»ç»Ÿ.md",
    "my_docs/project_docs/1761062403_æ¯’ç†å­¦æ•ˆåº”å¹ºåŠç¾¤ (TEM) å…¬ç†ç³»ç»Ÿ.md",
    "my_docs/project_docs/1761062404_è¯ä»£è½¬è¿å¹ºåŠç¾¤ (PKTM) å…¬ç†ç³»ç»Ÿ.md",
    "my_docs/project_docs/1761062405_è¯ç†åŸºå› ç»„å¹ºåŠç¾¤ (PGOM) å…¬ç†ç³»ç»Ÿ.md",
    "my_docs/project_docs/1761062406_è¯æ•ˆæ•ˆåº”å¹ºåŠç¾¤ (PDEM) å…¬ç†ç³»ç»Ÿ.md",
    "my_docs/project_docs/1761062407_å…ç–«æ•ˆåº”å¹ºåŠç¾¤ (IEM) å…¬ç†ç³»ç»Ÿ.md",
    "my_docs/project_docs/1761062408_ã€Šç—…ç†æ¼”åŒ–å¹ºåŠç¾¤ã€‹çš„æ ¸å¿ƒæž„é€ åŠç†è®ºå®Œå¤‡æ€§.md",
    "my_docs/project_docs/1761062409_ã€Šç”Ÿç†è°ƒæŽ§å¹ºåŠç¾¤ã€‹çš„æ ¸å¿ƒæž„é€ åŠç†è®ºå®Œå¤‡æ€§.md",
    "my_docs/project_docs/1761062410_ã€Šæ¯’ç†å­¦æ•ˆåº”å¹ºåŠç¾¤ã€‹çš„æ ¸å¿ƒæž„é€ åŠç†è®ºå®Œå¤‡æ€§.md",
    "my_docs/project_docs/1761062411_ã€Šè¯ä»£è½¬è¿å¹ºåŠç¾¤ã€‹çš„æ ¸å¿ƒæž„é€ åŠç†è®ºå®Œå¤‡æ€§.md",
    "my_docs/project_docs/1761062412_ã€Šè¯ç†åŸºå› ç»„ç®—å­å¹ºåŠç¾¤ã€‹çš„æ ¸å¿ƒæž„é€ åŠç†è®ºå®Œå¤‡æ€§.md",
    "my_docs/project_docs/1761062413_ã€Šè¯æ•ˆæ•ˆåº”å¹ºåŠç¾¤ã€‹çš„æ ¸å¿ƒæž„é€ åŠç†è®ºå®Œå¤‡æ€§.md",
    "my_docs/project_docs/1761062414_ã€Šå…ç–«æ•ˆåº”å¹ºåŠç¾¤ã€‹çš„æ ¸å¿ƒæž„é€ åŠç†è®ºå®Œå¤‡æ€§.md",
    "my_docs/project_docs/1761062415_ç—…ç†æ¼”åŒ–å¹ºåŠç¾¤ (PEM) çš„ç®—å­å¹‚é›†ç®—æ³•.md",
    "my_docs/project_docs/1761062416_ç”Ÿç†è°ƒæŽ§å¹ºåŠç¾¤ (PRM) çš„ç®—å­å¹‚é›†ç®—æ³•.md",
    "my_docs/project_docs/1761062417_æ¯’ç†å­¦æ•ˆåº”å¹ºåŠç¾¤ (TEM) çš„ç®—å­å¹‚é›†ç®—æ³•.md",
    "my_docs/project_docs/1761062418_è¯ä»£è½¬è¿å¹ºåŠç¾¤ (PKTM) çš„ç®—å­å¹‚é›†ç®—æ³•.md",
    "my_docs/project_docs/1761062419_è¯ç†åŸºå› ç»„å¹ºåŠç¾¤ (PGOM) çš„ç®—å­å¹‚é›†ç®—æ³•.md",
    "my_docs/project_docs/1761062420_è¯æ•ˆæ•ˆåº”å¹ºåŠç¾¤ (PDEM) çš„ç®—å­å¹‚é›†ç®—æ³•.md",
    "my_docs/project_docs/1761148800_LBOPB ç¦»æ•£ç‰ˆ SAC (Discrete SAC) ç®—æ³•éœ€æ±‚æè¿°.md",
    "my_docs/project_docs/1761148801_LBOPB ç¦»æ•£ç‰ˆ SAC æ¡†æž¶ä¸‹çš„æ ·æœ¬ç”Ÿæˆä¸Žç­›é€‰ï¼šå…¬ç†åŽŸåˆ™ä¸Žå¤§è¯­è¨€æ¨¡åž‹çš„ååŒæœºåˆ¶.md",
    "my_docs/project_docs/1761148802_è®ºå…¬ç†åŽŸåˆ™ä½œä¸ºçŸ¥è¯†è’¸é¦ï¼šä¸€ç§é¢å‘ LBOPB ç¦»æ•£ç‰ˆ SAC çš„ç»“æž„åŒ–å®žçŽ°.md",
    "my_docs/project_docs/1761148803_LBOPB å­é¡¹ç›®ç»¼åˆè¯„ä¼°æŠ¥å‘Š.md",
    "my_docs/project_docs/1761148804_ç®—å­å¹‚é›†ç®—æ³•ï¼ˆpowerset.pyï¼‰æœºåˆ¶åŠå…¶ç†è®ºä½“çŽ°çš„è¯¦ç»†è®ºè¿°.md",
    "my_docs/project_docs/1761148805_O3-LBOPB æ¡†æž¶çš„åº”ç”¨è“å›¾ï¼šä»Žç§‘å­¦å‘çŽ°åˆ°ç”Ÿæˆå¼ç²¾å‡†åŒ»ç–—.md",
    "my_docs/project_docs/1761148806_O3-LBOPB æ¡†æž¶ï¼šä»Žæœ€å°æµ‹è·çŠ¶æ€æ‹Ÿåˆåˆ°å¯¹æ•°å­—å­ªç”ŸèŒƒå¼çš„è¶…è¶Š.md",
    "my_docs/project_docs/1761148807_O3-LBOPB æ¡†æž¶çš„ç†è®ºæ½œåŠ›ï¼šåŸºäºŽ PFB-GNLA ä¸Ž GRL è·¯å¾„ç§¯åˆ†çš„æ— é™æ‹Ÿåˆèƒ½åŠ›.md",
    "my_docs/project_docs/1761148808_O3-LBOPB è™šæ‹Ÿä¸´åºŠè¯•éªŒæŠ¥å‘Šï¼šä¸€ä¾‹æ™šæœŸéžå°ç»†èƒžè‚ºç™Œï¼ˆNSCLCï¼‰æ‚£è€…çš„ç”Ÿæˆå¼æ²»ç–—æ–¹æ¡ˆ.md",
    "my_docs/project_docs/1761235200_O3ç†è®ºçš„è‡ªä¸¾ä¹‹è·¯ï¼šä¸€ä¸ªæž„å»ºâ€œæ³•åˆ™è”ç»œâ€çŸ¥è¯†ä½“ç³»çš„ä¸¤é˜¶æ®µå¼ºåŒ–å­¦ä¹ æ¡†æž¶.md",
    "my_docs/project_docs/1761235201_ä»ŽO3ç†è®ºåˆ°ç”Ÿæˆå¼ç²¾å‡†åŒ»ç–—ï¼šä¸€ä¸ªè‡ªä¸¾å­¦ä¹ æ¡†æž¶åŠå…¶åœ¨å¤æ‚ç³»ç»Ÿå¹²é¢„ä¸­çš„åº”ç”¨.md",
    "my_docs/project_docs/1761235202_O3ç†è®ºçš„è‡ªä¸¾ä¹‹è·¯ï¼šä¸€ä¸ªæž„å»ºâ€œæ³•åˆ™è”ç»œâ€çŸ¥è¯†ä½“ç³»çš„ä¸¤é˜¶æ®µå¼ºåŒ–å­¦ä¹ æ¡†æž¶.md",
    "my_docs/project_docs/1761235203_rlsac_id_unixtime çŸ¥è¯†ä½“ç³»ä½œä¸ºåŠ é€Ÿè®¡ç®—çš„ç®—æ³•å‚è€ƒ.md",
    "my_docs/project_docs/1761235204_O3ç†è®ºä¸‹çš„ç”Ÿæˆå¼ç²¾å‡†åŒ»ç–—ï¼šè®ºç»ˆæžå†³ç­–å¼•æ“Ž rlsac_id_unixtime çš„åŒå¾ªçŽ¯å·¥ä½œæµ.md",
]


def _split_title(path: Path) -> Tuple[str, str]:
    name = path.name
    if "_" not in name:
        return "", name
    idx = name.find("_")
    return name[:idx], name[idx + 1 :]


def restore_prefixes(targets: List[str]) -> None:
    root = Path.cwd()
    for t in targets:
        dest = Path(t)
        if not dest.is_absolute():
            dest = root / dest
        dest_parent = dest.parent
        _, title = _split_title(dest)
        if not title:
            print(f"[restore] skip (no underscore): {dest}")
            continue
        # åœ¨ç›®æ ‡ç›®å½•ä¸­æŸ¥æ‰¾ä»»ä½•ä»¥ _title ç»“å°¾çš„æ–‡ä»¶
        candidates = list(dest_parent.glob(f"*_{title}"))
        if not candidates:
            print(f"[restore] not found: *_{title}")
            continue
        if len(candidates) > 1:
            print(f"[restore] multiple candidates for title='{title}': {[c.name for c in candidates]}")
            continue
        src = candidates[0]
        if src.resolve() == dest.resolve():
            print(f"[restore] already good: {dest}")
            continue
        dest_parent.mkdir(parents=True, exist_ok=True)
        try:
            os.replace(src, dest)
            print(f"[restore] renamed: {src.name} -> {dest.name}")
        except Exception as e:
            print(f"[restore] rename failed: {src} -> {dest}: {e}")


def main() -> None:
    restore_prefixes(TARGETS)


if __name__ == "__main__":
    main()

